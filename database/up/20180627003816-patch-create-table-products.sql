CREATE TABLE products (id INT AUTO_INCREMENT NOT NULL, type INT NOT NULL, variant_type INT NOT NULL, variant_model_style INT NOT NULL, variant_color_style INT NOT NULL, variant_size_style INT NOT NULL, shopify_id VARCHAR(20) NOT NULL COLLATE utf8_unicode_ci, name VARCHAR(255) NOT NULL COLLATE utf8_unicode_ci, image_uri VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, click_funnel_name VARCHAR(255) NOT NULL COLLATE utf8_unicode_ci, custom_name_line1 VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, custom_name_line2 VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, min_quantity INT DEFAULT NULL, max_quantity INT DEFAULT NULL, expand_variants TINYINT(1) DEFAULT '0', formatted_price VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, created_at DATETIME DEFAULT CURRENT_TIMESTAMP, updated_at DATETIME DEFAULT CURRENT_TIMESTAMP, INDEX idx_products_type (type), INDEX idx_products_variant_type (variant_type), INDEX idx_products_variant_model_style (variant_model_style), INDEX idx_products_variant_color_style (variant_color_style), INDEX idx_products_variant_size_style (variant_size_style), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE products ADD CONSTRAINT fk_products_type FOREIGN KEY (type) REFERENCES product_types (id) ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE products ADD CONSTRAINT fk_products_variant_color_style FOREIGN KEY (variant_color_style) REFERENCES variant_styles (id) ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE products ADD CONSTRAINT fk_products_variant_model_style FOREIGN KEY (variant_model_style) REFERENCES variant_styles (id) ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE products ADD CONSTRAINT fk_products_variant_size_style FOREIGN KEY (variant_size_style) REFERENCES variant_styles (id) ON UPDATE NO ACTION ON DELETE NO ACTION;
ALTER TABLE products ADD CONSTRAINT fk_products_variant_type FOREIGN KEY (variant_type) REFERENCES variant_types (id) ON UPDATE NO ACTION ON DELETE NO ACTION;